
                <script>
  $(function() {
    $( "#stockinput" ).autocomplete(
    { 
      minLength: 2,
      focus: function( event, ui ) {
            $( "#stockinput" ).val( ui.item.value );
            return false;
          },
       source:"/list.json"
    }).data( "ui-autocomplete" )._renderItem = function( ul, item ) {
          return $( "<li>" )
           .append( "<a>" + item.label + "<br>" + item.value + "</a>" )
            .appendTo( ul );
          };
  });
</script>

<div class="home-signup">
  <div class="home-signin-box">
    <%= form_for([@portfolio, @trade], html: {class: "form-horizontal"}) do |f| %>

      <% if @trade.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@trade.errors.count, "error") %> prohibited this trade from being saved:</h2>

          <ul>
          <% @trade.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
     <% end %>

<span class="btn" id="hide">Hide</span>
     <fieldset>
      
       <legend> New Trade!!</legend>

       <div class="control-group">
         <%= f.label :stock, class: "control-label" %>
         <div class="controls">
           <%= f.text_field :stock, class: "input-xlarge", id: "stockinput" %>
         </div>
       </div>


       <div class="control-group">
         <%= f.label :qty, class: "control-label" %>
         <div class="controls">
           <%= f.text_field :qty, class: "input-xlarge" %>
         </div>
       </div>


       <div class="control-group">
         <%= f.label :buy_price, class: "control-label" %>
         <div class="controls">
           <%= f.text_field :buy_price, class: "input-xlarge" %>
         </div>
       </div>


       <div class="control-group">
         <%= f.label :buy_date, class: "control-label" %>
         <div class="controls input-append date">
           <%= f.text_field :buy_date,class: "span3",id: "datepicker" %><span class="add-on"><i class="icon-th"></i></span>
         </div>
       </div>


       <div class="control-group">
         <%= f.label :bepoint,'Stop Loss', class: "control-label" %>
         <div class="controls">
           <%= f.text_field :bepoint, class: "input-xlarge" %>
         </div>
       </div>

       <div class="control-group">        
         <div class="controls">
           <%= f.submit "Submit" ,class: "btn btn-success"  %>
         </div>
       </div>



     </fieldset>


    <% end %>
  </div>
</div>

<script type="text/javascript">
  $('[data-behaviour~=datepicker]').datepicker();
</script>
